{"ast":null,"code":"import MyTag from 'MyTag.vue';\nexport default {\n  data() {\n    return {\n      isEdit: false\n    };\n  },\n  methods: {\n    hangleClick() {\n      this.isEdit = true;\n      //页面渲染为异步的需要等待渲染完毕后获取焦点\n      // this.$nextTick(()=>{\n      //   this.$refs.inp.focus()\n      // })\n    },\n    handleEnter(e) {\n      //由于父组件为v-model，触发事件需要触发input事件\n      console.log(e.target);\n      this.$emit('input', e.target.value);\n      this.isEdit = false;\n    }\n  },\n  props: {\n    value: String\n  }\n};","map":{"version":3,"names":["MyTag","data","isEdit","methods","hangleClick","handleEnter","e","console","log","target","$emit","value","props","String"],"sources":["src/components/MyTag.vue"],"sourcesContent":["<template>\r\n<div class=\"my-tag\">\r\n         <input \r\n         v-focus\r\n         ref=\"inp\"\r\n          v-if=\"isEdit\"\r\n           class=\"input\"\r\n           type=\"text\"\r\n           placeholder=\"输入标签\"\r\n           :value=\"value\"\r\n           @blur=\"isEdit=false\"\r\n           @keyup.enter=\"handleEnter\"\r\n         />\r\n         <!-- 失去焦点让isEidt为false -->\r\n  <div v-else \r\n  @dblclick=\"hangleClick\"\r\n  class=\"text\">\r\n     {{value}}\r\n  </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport MyTag from 'MyTag.vue'\r\nexport default {\r\n\r\n  data(){\r\n    return{\r\n      isEdit:false\r\n    }\r\n  },\r\n  methods:{\r\n    hangleClick(){\r\n      this.isEdit=true\r\n      //页面渲染为异步的需要等待渲染完毕后获取焦点\r\n      // this.$nextTick(()=>{\r\n      //   this.$refs.inp.focus()\r\n      // })\r\n    },\r\n    handleEnter(e){\r\n      //由于父组件为v-model，触发事件需要触发input事件\r\n      console.log(e.target);\r\n      this.$emit('input',e.target.value)\r\n      this.isEdit=false\r\n    }\r\n  },\r\n  props:{\r\n    value:String\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.my-tag {\r\n    cursor: pointer;\r\n    .input {\r\n      appearance: none;\r\n      outline: none;\r\n      border: 1px solid #ccc;\r\n      width: 100px;\r\n      height: 40px;\r\n      box-sizing: border-box;\r\n      padding: 10px;\r\n      color: #666;\r\n      &::placeholder {\r\n        color: #666;\r\n      }\r\n    }\r\n  }\r\n</style>"],"mappings":"AAuBA,OAAAA,KAAA;AACA;EAEAC,KAAA;IACA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAF,MAAA;MACA;MACA;MACA;MACA;IACA;IACAG,YAAAC,CAAA;MACA;MACAC,OAAA,CAAAC,GAAA,CAAAF,CAAA,CAAAG,MAAA;MACA,KAAAC,KAAA,UAAAJ,CAAA,CAAAG,MAAA,CAAAE,KAAA;MACA,KAAAT,MAAA;IACA;EACA;EACAU,KAAA;IACAD,KAAA,EAAAE;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}