{"ast":null,"code":"import OrderListItem from '@/components/OrderListItem.vue';\nimport { getMyOrderList } from '@/api/order';\nexport default {\n  name: 'OrderPage',\n  components: {\n    OrderListItem\n  },\n  data() {\n    return {\n      active: this.$route.query.dataType || 'all',\n      page: 1,\n      list: []\n    };\n  },\n  methods: {\n    async getOrderList() {\n      // const res = await getMyOrderList(this.active, this.page)\n      // console.log(res)\n      const {\n        data: {\n          list\n        }\n      } = await getMyOrderList(this.active, this.page);\n      list.data.forEach(item => {\n        item.total_num = 0;\n        item.goods.forEach(goods => {\n          item.total_num += goods.total_num;\n        });\n      });\n      this.list = list.data;\n    }\n  },\n  watch: {\n    active: {\n      immediate: true,\n      handler() {\n        this.getOrderList();\n      }\n    }\n  }\n};","map":{"version":3,"names":["OrderListItem","getMyOrderList","name","components","data","active","$route","query","dataType","page","list","methods","getOrderList","forEach","item","total_num","goods","watch","immediate","handler"],"sources":["src/views/myorder/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"order\">\r\n    <van-nav-bar title=\"我的订单\" left-arrow @click-left=\"$router.go(-1)\" />\r\n    <van-tabs v-model=\"active\" sticky>\r\n      <van-tab name=\"all\" title=\"全部\"></van-tab>\r\n      <van-tab name=\"payment\" title=\"待支付\"></van-tab>\r\n      <van-tab name=\"delivery\" title=\"待发货\"></van-tab>\r\n      <van-tab name=\"received\" title=\"待收货\"></van-tab>\r\n      <van-tab name=\"comment\" title=\"待评价\"></van-tab>\r\n    </van-tabs>\r\n\r\n    <OrderListItem v-for=\"item in list\" :key=\"item.order_id\r\n\" :item=\"item\"></OrderListItem>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OrderListItem from '@/components/OrderListItem.vue'\r\nimport { getMyOrderList } from '@/api/order'\r\nexport default {\r\n  name: 'OrderPage',\r\n  components: {\r\n    OrderListItem\r\n  },\r\n  data () {\r\n    return {\r\n      active: this.$route.query.dataType || 'all',\r\n      page: 1,\r\n      list: []\r\n    }\r\n  },\r\n  methods: {\r\n    async getOrderList () {\r\n      // const res = await getMyOrderList(this.active, this.page)\r\n      // console.log(res)\r\n      const { data: { list } } = await getMyOrderList(this.active, this.page)\r\n      list.data.forEach((item) => {\r\n        item.total_num = 0\r\n        item.goods.forEach(goods => {\r\n          item.total_num += goods.total_num\r\n        })\r\n      })\r\n      this.list = list.data\r\n    }\r\n  },\r\n  watch: {\r\n    active: {\r\n      immediate: true,\r\n      handler () {\r\n        this.getOrderList()\r\n      }\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.order {\r\n  background-color: #fafafa;\r\n}\r\n.van-tabs {\r\n  position: sticky;\r\n  top: 0;\r\n}\r\n</style>\r\n"],"mappings":"AAiBA,OAAAA,aAAA;AACA,SAAAC,cAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH;EACA;EACAI,KAAA;IACA;MACAC,MAAA,OAAAC,MAAA,CAAAC,KAAA,CAAAC,QAAA;MACAC,IAAA;MACAC,IAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,aAAA;MACA;MACA;MACA;QAAAR,IAAA;UAAAM;QAAA;MAAA,UAAAT,cAAA,MAAAI,MAAA,OAAAI,IAAA;MACAC,IAAA,CAAAN,IAAA,CAAAS,OAAA,CAAAC,IAAA;QACAA,IAAA,CAAAC,SAAA;QACAD,IAAA,CAAAE,KAAA,CAAAH,OAAA,CAAAG,KAAA;UACAF,IAAA,CAAAC,SAAA,IAAAC,KAAA,CAAAD,SAAA;QACA;MACA;MACA,KAAAL,IAAA,GAAAA,IAAA,CAAAN,IAAA;IACA;EACA;EACAa,KAAA;IACAZ,MAAA;MACAa,SAAA;MACAC,QAAA;QACA,KAAAP,YAAA;MACA;IACA;EACA;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}